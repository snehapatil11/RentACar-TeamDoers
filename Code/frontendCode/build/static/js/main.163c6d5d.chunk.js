(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{243:function(e,t,a){e.exports=a(477)},248:function(e,t,a){},249:function(e,t,a){},458:function(e,t,a){e.exports=a.p+"static/media/rentcar.1ca21d94.jpg"},476:function(e,t,a){},477:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),i=(a(248),a(15)),o=a(16),s=a(21),m=a(20),u=a(22),d=(a(249),a(168)),h=a(12),p=a(60),E=a.n(p),f=a(92),g=a(483),b=a(108),y=a(96),v=a(481),C=a(48),S=a(29),k=a(482),D=a(484),I=a(83),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).clickedProfile=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/profile"}})})},a.clickedHome=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/user/"}})})},a.clickedLogout=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/welcome/"}})}),localStorage.clear()},a.clickedReturn=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/returnCancel/"}})})},a.state={redirectPage:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.redirectPage,l.a.createElement("div",{style:{background:"grey"}},l.a.createElement(I.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:this.props.selectedKey,style:{fontWeight:"bold"}},l.a.createElement(I.a.Item,{key:"4",onClick:this.clickedLogout,style:{color:"white",float:"right"}},"Logout"),l.a.createElement(I.a.Item,{key:"3",onClick:this.clickedReturn,style:{color:"white",float:"right"}},"Return - Cancel"),l.a.createElement(I.a.Item,{key:"2",onClick:this.clickedProfile,style:{color:"white",float:"right"}},"Profile"),l.a.createElement(I.a.Item,{key:"1",onClick:this.clickedHome,style:{color:"white",float:"right"}},"Home"))))}}]),t}(n.Component),M=function(){return l.a.createElement("footer",{style:{position:"fixed",left:"0",bottom:"0",backgroundColor:"red",color:"black",textAlign:"center",width:"100%",paddingTop:"1%",height:"6%",fontSize:"large"}},"Developed by: Team DOers")},O=a(43),x=a.n(O),j={url:"http://localhost:4002/",endpointURL:"http://localhost:4002/api",price:{1:300,2:500,3:750}},Y=a(5),T=a.n(Y),P=a(38),R=a.n(P),L=(g.a.Panel,b.a.Option),V=localStorage.getItem("user_id"),F=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).cancelMembership=function(){x.a.fire({title:"Cancel your membership?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Yes!"}).then((function(t){if(t.value){var a=T()().format("DD/MM/YYYY");e.setState({endDate:T()()}),R.a.post(j.endpointURL+"/user/cancelMem/",JSON.stringify({userID:e.state.userID,endDate:a}),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){localStorage.setItem("isMember",0),x.a.fire("Cancelled successfully!","We are sorry to see you go!","success")})).catch((function(e){}))}})).catch((function(e){}))},e.extendMembership=function(){e.setState({visible:!0})},e.handleCancel=function(){e.setState({visible:!1})},e.onMembershipChange=function(t){t||e.setState({price:0,months:0}),1===t||"1"===t?e.setState({price:j.price[1],months:6}):2===t||"2"===t?e.setState({price:j.price[2],months:12}):e.setState({price:j.price[3],months:24})},e.handleOk=function(){x.a.fire({title:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(t){if(console.log(t.value),t.value){var a=T()(e.state.endDate).add(e.state.months,"months").format("DD/MM/YYYY");e.setState({endDate:T()(e.state.endDate).add(e.state.months,"months")});var n={userID:e.state.userID,endDate:a};R.a.post(j.endpointURL+"/user/extendMem/",JSON.stringify(n),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log(e),localStorage.setItem("isMember",1)})).catch((function(e){})),x.a.fire("Extended!","Successfully","success"),e.setState({visible:!1})}}))},e.state={visible:!1,creditCard:[],startDate:"",endDate:"",userinfo:[],name:"",price:0,userID:"",months:0,ready:!1,redirectPage:""},V=localStorage.getItem("user_id"),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(E.a.mark((function e(){var t=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=3;break}return e.next=3,R.a.get(j.endpointURL+"/user/info/"+V).then((function(e){e.data&&t.setState({userinfo:e.data,startDate:T()(e.data[0].memStartDate,"DD/MM/YYYY"),endDate:T()(e.data[0].memEndDate,"DD/MM/YYYY"),userID:e.data[0].userId,name:e.data[0].name,ready:!0})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=null;return localStorage.getItem("user_id")&&"user"===localStorage.getItem("userType")||(e=l.a.createElement(h.a,{to:"/welcome/"})),l.a.createElement("div",null,l.a.createElement("div",null,e),this.state.ready&&l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(w,{selectedKey:["2"]}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{paddingTop:"2%",textAlign:"center"}},l.a.createElement("h1",null,"Welcome "+this.state.name),l.a.createElement("h2",null,"Your Current Membership with us"),l.a.createElement(y.a,{style:{paddingLeft:"40%"}},l.a.createElement("h3",null,"Start Date: "),l.a.createElement("h4",{style:{paddingLeft:"1%"}},T()(this.state.startDate).format("DD")+" "+T()(this.state.startDate).format("MMMM")+", "+T()(this.state.startDate).format("YYYY"))),l.a.createElement(y.a,{style:{paddingLeft:"40%"}},l.a.createElement("h3",null,"End Date: "),l.a.createElement("h4",{style:{paddingLeft:"1%"}},T()(this.state.endDate).format("DD")+" "+T()(this.state.endDate).format("MMMM")+", "+T()(this.state.endDate).format("YYYY"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(y.a,{style:{paddingLeft:"25%"}},l.a.createElement(v.a,{title:"Modify Membership",style:{width:"70%"}},l.a.createElement(y.a,null,l.a.createElement(C.a,{span:6},l.a.createElement(S.a,{type:"primary",style:{backgroundColor:"green"}},"Extend")),l.a.createElement(C.a,{span:6},l.a.createElement(b.a,{placeholder:"Select duration",onChange:this.onMembershipChange},l.a.createElement(L,{value:"1"},"By 6 months"),l.a.createElement(L,{value:"2"},"By 1 Year"),l.a.createElement(L,{value:"3"},"By 2 Years"))),l.a.createElement(C.a,{span:6},l.a.createElement("p",null,"Price($): ",this.state.price)),l.a.createElement(C.a,{span:6},l.a.createElement(S.a,{type:"primary",onClick:this.extendMembership,disabled:!this.state.price},"Make payment"))),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:6},l.a.createElement(S.a,{type:"primary",danger:!0,onClick:this.cancelMembership},"Cancel")))),l.a.createElement(k.a,{title:"Credit Card Details",visible:this.state.visible,onCancel:this.handleCancel,footer:[l.a.createElement(S.a,{key:"back",onClick:this.handleCancel},"Return"),l.a.createElement(S.a,{key:"submit",type:"primary",onClick:this.handleOk},"Submit")]},this.state.userinfo&&l.a.createElement("div",null,l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("label",null,"Owner Name")),l.a.createElement(C.a,{span:2}),l.a.createElement(C.a,{span:8},l.a.createElement("label",null,"CVV"))),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement(D.a,{value:this.state.userinfo[0].ownerName,style:{backgroundColor:"white",fontWeight:"500",fontFamily:"inherit",color:"rgba(0, 0, 0, 0.75)"},disabled:!0})),l.a.createElement(C.a,{span:2}),l.a.createElement(C.a,{span:8},l.a.createElement(D.a,{value:this.state.userinfo[0].cvv,style:{backgroundColor:"white",fontWeight:"500",fontFamily:"inherit",color:"rgba(0, 0, 0, 0.75)"},disabled:!0}))),l.a.createElement("br",null),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("label",null,"Card Number"))),l.a.createElement(y.a,null,l.a.createElement(D.a,{value:this.state.userinfo[0].CCNumber,style:{backgroundColor:"white",fontWeight:"500",fontFamily:"inherit",color:"rgba(0, 0, 0, 0.75)"},disabled:!0})),l.a.createElement("br",null),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("label",null,"Expiry Details"))),l.a.createElement(y.a,null,l.a.createElement(S.a,null,this.state.userinfo[0].expiryMonth),l.a.createElement(S.a,{style:{marginLeft:"2%"}},this.state.userinfo[0].expiryYear))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(y.a,null)))),l.a.createElement("div",null,l.a.createElement(M,null)))}}]),t}(n.Component),H=a(134),N=(a(67),a(226)),A=a(227),B=(a(364),a(478)),U=B.a.Header,z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).clickedJoinUs=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/joinus/"}})})},a.clickedSignin=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/signin/"}})})},a.clickedWelcome=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/welcome/"}})})},a.clickedAdmin=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/admin/"}})})},a.clickedMembership=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/adminMembership/"}})})},a.state={redirectPage:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.redirectPage,l.a.createElement(U,null,l.a.createElement("div",null),l.a.createElement(I.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:this.props.selectedKey,style:{lineHeight:"64px"}},l.a.createElement(I.a.Item,{key:"1",onClick:this.clickedWelcome},"Welcome"),l.a.createElement(I.a.Item,{key:"2",onClick:this.clickedJoinUs},"Join Us"),l.a.createElement(I.a.Item,{key:"3",onClick:this.clickedSignin},"Sign in"))))}}]),t}(n.Component),W=a(485),K=a(480),q=W.a.MonthPicker,_=b.a.Option,J=["4646122071443224","5372077185231328","5372073116245321","349380337213215","349890774468866","6011387583206383","3556638723817887","4020374654722013","4065698700805687","349758136031484","349965856628270"],$={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:20},sm:{span:10}}},G={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},Z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).formRef=l.a.createRef(),e.onStateChange=function(t){e.setState({stateValue:t})},e.onFinish=function(t){x.a.fire("Welcome","Payment successful!","success");for(var a=0,n=0;n<t.username.length;n++)a+=t.username[n].charCodeAt();var r={userId:a,name:t.username,emailid:t.email,password:t.password,licenseState:t.licenseState,licenseNum:t.licenseNum,address:t.address,CCNumber:t.creditCard,ownerName:t.name,cvv:t.cvv,expiryMonth:T()(t.monthPicker).format("MMMM"),expiryYear:T()(t.monthPicker).format("YYYY"),memStartDate:T()().format("DD/MM/YYYY"),memEndDate:T()().add(e.state.months,"months").format("DD/MM/YYYY"),pricePaid:e.state.price,isMember:"1"};R.a.post(j.endpointURL+"/user/add/",JSON.stringify(r),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){t.status>=400||e.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/signin/"}})})})).catch((function(e){console.log(e)}))},e.checkLicenseNum=function(t,a){return e.state.stateValue?Object(N.validate)(a,e.state.stateValue)?Promise.resolve():Promise.reject("Invalid License Number according to state"):Promise.reject("Please select state first")},e.handleInputFocus=function(t){e.setState({focus:t.target.name})},e.handleInputChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(H.a)({},n,l))},e.handleInputChangeNumber=function(t){var a=t.target.value;e.setState({number:a})},e.checkCreditCard=function(t,a){if(a){var n=a.toString();return e.setState({number:a}),J.includes(n)?(e.setState({showSubmit:!0}),Promise.resolve()):(e.setState({showSubmit:!1}),Promise.reject("Invalid Credit card Number"))}return e.setState({showSubmit:!1}),Promise.reject()},e.checkName=function(t,a){return e.setState({name:a}),Promise.resolve()},e.checkValidity=function(t,a){var n=T()(a).format("MM")+T()(a).format("YY");return e.setState({expiry:n}),Promise.resolve()},e.checkCVV=function(t,a){return/^[0-9]+$/.test(a)?3!==a.length?Promise.reject("Invalid CVV"):(e.setState({cvc:a}),Promise.resolve()):Promise.reject("Only numbers allowed")},e.disabledDate=function(e){return e&&e.valueOf()<Date.now()},e.onMembershipChange=function(t){1===t||"1"===t?e.setState({price:j.price[1],months:6}):2===t||"2"===t?e.setState({price:j.price[2],months:12}):e.setState({price:j.price[3],months:24})},e.state={stateValue:"",showSubmit:!1,cvc:"",expiry:"",focus:"",name:"",number:"",showIt:!0,price:300,months:6,redirectPage:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.redirectPage,l.a.createElement("div",null,l.a.createElement(z,{selectedKey:["2"]})),l.a.createElement("div",null,l.a.createElement(K.a,Object.assign({},$,{ref:this.formRef,name:"register",onFinish:this.onFinish,scrollToFirstError:!0,style:{paddingTop:"2%",marginBottom:"10%"}}),l.a.createElement(K.a.Item,{name:"username",label:"Username",rules:[{},{required:!0,message:"Please input your name!"}]},l.a.createElement(D.a,null)),l.a.createElement(K.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},l.a.createElement(D.a,null)),l.a.createElement(K.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},l.a.createElement(D.a.Password,null)),l.a.createElement(K.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},l.a.createElement(D.a.Password,null)),l.a.createElement(K.a.Item,{name:"licenseState",label:"Driver license state",rules:[{required:!0,message:"Please select state"}]},l.a.createElement(b.a,{onChange:this.onStateChange,allowClear:!0},l.a.createElement(_,{value:"AL"},"Alabama"),l.a.createElement(_,{value:"AK"},"Alaska"),l.a.createElement(_,{value:"AZ"},"Arizona"),l.a.createElement(_,{value:"CA"},"California"),l.a.createElement(_,{value:"CO"},"Colorado"),l.a.createElement(_,{value:"FL"},"Florida"),l.a.createElement(_,{value:"GA"},"Georgia"),l.a.createElement(_,{value:"HI"},"Hawaii"),l.a.createElement(_,{value:"IL"},"Illinois"),l.a.createElement(_,{value:"IN"},"Indiana"),l.a.createElement(_,{value:"NY"},"New York"),l.a.createElement(_,{value:"TX"},"Texas"),l.a.createElement(_,{value:"WA"},"Washington"),l.a.createElement(_,{value:"WI"},"Wisconsin"))),l.a.createElement(K.a.Item,{name:"licenseNum",label:"License Number",rules:[{validator:this.checkLicenseNum},{required:!0,message:"Please input your driver license number!"}]},l.a.createElement(D.a,{style:{width:"100%"}})),l.a.createElement(K.a.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please input your address!"}]},l.a.createElement(D.a.TextArea,null)),l.a.createElement(K.a.Item,{label:"credit card"},l.a.createElement(A.a,{cvc:this.state.cvc,expiry:this.state.expiry,focus:this.state.focus,name:this.state.name,number:this.state.number})),l.a.createElement(K.a.Item,{name:"creditCard",label:"Credit Card Details",rules:[{validator:this.checkCreditCard},{required:!0,message:"Please input your credit card number!"}]},l.a.createElement(D.a,{type:"tel",name:"number",placeholder:"Card Number"})),l.a.createElement(K.a.Item,{name:"name",label:"Owner Name",rules:[{validator:this.checkName},{required:!0,message:"Please enter owner name!"}]},l.a.createElement(D.a,{type:"text",name:"name",placeholder:"Name"})),l.a.createElement(K.a.Item,{name:"monthPicker",label:"Expiry",rules:[{validator:this.checkValidity},{required:!0,message:"Please select expiration date!"}]},l.a.createElement(q,{placeholder:"Valid through",disabledDate:this.disabledDate})),l.a.createElement(K.a.Item,{name:"cvv",label:"CVV",rules:[{validator:this.checkCVV},{required:!0,message:"Please input cvv value!"}]},l.a.createElement(D.a,{type:"text",name:"cvc",placeholder:"CVV",onChange:this.handleInputChange,onFocus:this.handleInputFocus})),l.a.createElement(K.a.Item,{name:"membership",label:"Membership",rules:[{required:!0}]},l.a.createElement(b.a,{onChange:this.onMembershipChange,allowClear:!0},l.a.createElement(_,{value:"1"},"6 Months"),l.a.createElement(_,{value:"2"},"1 Year"),l.a.createElement(_,{value:"3"},"2 Years"))),l.a.createElement(K.a.Item,{name:"price",label:"Price($)"},l.a.createElement("span",null,this.state.price)),l.a.createElement(K.a.Item,G,l.a.createElement(S.a,{type:"primary",htmlType:"submit",disabled:!this.state.showSubmit},"Pay & Register")))),l.a.createElement("div",null,l.a.createElement(M,null)))}}]),t}(l.a.Component),X=B.a.Content,Q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={redirect:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.redirect,l.a.createElement("div",null,l.a.createElement(y.a,null,l.a.createElement(B.a,{className:"layout"},l.a.createElement(z,{selectedKey:["1"]}),l.a.createElement(X,null,l.a.createElement("div",{style:{background:"#fff"}},l.a.createElement("br",null),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("img",{src:a(458),style:{maxWidth:"100%",minHeight:"100%",maxHeight:"50%"}})),l.a.createElement(C.a,{span:2}),l.a.createElement(C.a,{span:6},l.a.createElement("h1",null,"Welcome to Easy Car Rentals!!"),l.a.createElement("h2",null,"We also provide services to people under age of 25"))),l.a.createElement(y.a,null))),l.a.createElement(M,null)))))}}]),t}(n.Component),ee=a(488),te=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"userTypeURL",value:function(e){return"admin"===e?"/adminMembership/":"/profile/"}}]),e}(),ae=b.a.Option,ne=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){console.log(t),R.a.post(j.endpointURL+"/user/login/",JSON.stringify(t),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var a=Object(f.a)(E.a.mark((function a(n){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(n.status>=400)){a.next=5;break}console.log(n),e.setState({showError:!0}),a.next=17;break;case 5:return a.next=7,localStorage.setItem("user_id",n.data[0].userId);case 7:return a.next=9,localStorage.setItem("userType",t.userType);case 9:return a.next=11,localStorage.setItem("email_id",t.emailid);case 11:return a.next=13,localStorage.setItem("name",n.data[0].name);case 13:return a.next=15,localStorage.setItem("isMember",n.data[0].isMember);case 15:r=te.userTypeURL(t.userType),e.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:r}})});case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(t){console.log(t),e.setState({showError:!0})}))},e.failedSubmit=function(e){console.log(e)},e.state={redirectPage:"",showError:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.redirectPage,l.a.createElement("div",null,l.a.createElement(z,{selectedKey:["3"]})),l.a.createElement("div",null,l.a.createElement(K.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:8}},{name:"basic",initialValues:{remember:!0},onFinish:this.handleSubmit,onFinishFailed:this.failedSubmit,style:{paddingTop:"2%"}}),l.a.createElement(K.a.Item,{label:"Email ID",name:"emailid",rules:[{required:!0,message:"Please input your emailID!"}]},l.a.createElement(D.a,null)),l.a.createElement(K.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},l.a.createElement(D.a.Password,null)),l.a.createElement(K.a.Item,{label:"User Type",name:"userType",rules:[{required:!0,message:"Please select user type!"}]},l.a.createElement(b.a,null,l.a.createElement(ae,{value:"user"},"User"),l.a.createElement(ae,{value:"admin"},"Admin"))),l.a.createElement(K.a.Item,{wrapperCol:{offset:8,span:8}},l.a.createElement(S.a,{type:"primary",htmlType:"submit"},"Submit")))),this.state.showError&&l.a.createElement("div",null,l.a.createElement(ee.a,{message:"Invalid credentials",type:"error"})),l.a.createElement("div",null,l.a.createElement(M,null)))}}]),t}(n.Component),le=a(24),re=a(479),ce=a(70),ie=a.n(ce),oe=a(486),se=a(461),me={getVehiclesData:function(e){return fetch("".concat(ue.endpointURL,"/allVehicles/")).then((function(e){return e.json()}))},getVehicleTransactions:function(e,t){return fetch("".concat(ue.endpointURL,"/vehicleTransactions/")+e).then((function(e){return e.json()}))},storeVehicleTransaction:function(e,t,a,n,l,r,c,i){var o="".concat(ue.endpointURL,"/postVehicleTransaction");return fetch(o,{method:"Post",body:JSON.stringify({vehicleTransactionId:se(),vehicleId:e,userId:t,isReserved:a,isReturned:n,rentedDateTime:l,rentedLength:r,rentEndDateTime:c,returnDateTime:i}),headers:{"Content-Type":"application/json"}}).then((function(e){return e}))}},ue={endpointURL:j.endpointURL};var de=a(240),he=a(487),pe=function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.fields,c=K.a.useForm(),i=Object(de.a)(c,1)[0];return l.a.createElement(k.a,{visible:t,title:"Vehicle Reservation",okText:"Submit",onCancel:function(){i.resetFields(),a()},onOk:function(){i.validateFields().then((function(e){i.resetFields(),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},l.a.createElement(K.a,{form:i,layout:"vertical",name:"form_in_modal",fields:r,initialValues:{rentalLength:1}},l.a.createElement(K.a.Item,{name:"vehicleType",label:"Vehicle Type",style:{marginBottom:"0px"}},l.a.createElement(D.a,null)),l.a.createElement(K.a.Item,{name:"rentalLocation",label:"Rental Location",style:{marginBottom:"0px"}},l.a.createElement(D.a,null)),l.a.createElement(K.a.Item,{name:"rentalDate",label:"Pickup Date",style:{marginBottom:"0px"}},l.a.createElement(W.a,{disabledDate:function(e){return e<T()().startOf("day")},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm"})),l.a.createElement(K.a.Item,{name:"rentalLength",label:"Length of Rental By Hour (Max 72hrs)",className:"collection-create-form_last-form-item"},l.a.createElement(he.a,{min:1,max:72,defaultValue:1}))))},Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:"",searchedColumn:"",visible:!1,visibleMembership:!1,filterRentalLocation:"",vehicleId:"",userId:"",reservationFormVisible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e);var t=a.state.vehiclesData.filter((function(e){return e.vehicleType===a.state.filterVehicleType}));a.setState({vehiclesData:t}),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.handleCancelMem=function(e){console.log(e),a.setState({visibleMembership:!1})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,c=t.confirm,i=t.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(D.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,c,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(r,c,e)},icon:l.a.createElement(oe.a,null),size:"small",style:{width:90,marginRight:8}},"Search"),l.a.createElement(S.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return l.a.createElement(oe.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return a.state.searchedColumn===e?l.a.createElement(ie.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.state.userId=localStorage.getItem("user_id"),this.getVehiclesData()}},{key:"getVehiclesData",value:function(){var e=this;me.getVehiclesData().then((function(t){e.setState({vehiclesData:t}),console.log(t)}))}},{key:"reserve",value:function(e,t){t.preventDefault();var a=localStorage.getItem("isMember");console.log(a),this.setState({filterVehicleType:e.vehicleType,filterRentalLocation:e.rentalLocationName,vehicleId:e.vehicleId}),"1"===a?this.setState({reservationFormVisible:!0}):this.setState({visibleMembership:!0})}},{key:"render",value:function(){var e=this,t=[{name:["vehicleType"],value:this.state.filterVehicleType},{name:["rentalLocation"],value:this.state.filterRentalLocation}],a=[Object(le.a)({title:"Model",dataIndex:"model",key:"model",width:"12%"},this.getColumnSearchProps("model")),Object(le.a)({title:"Make",dataIndex:"make",key:"make"},this.getColumnSearchProps("make")),Object(le.a)({title:"Vehicle Type",dataIndex:"vehicleType",key:"vehicleType"},this.getColumnSearchProps("vehicleType")),{title:"Mileage",dataIndex:"currentMileage",key:"currentMileage"},{title:"Hourly Price",dataIndex:"hourlyPrice",key:"hourlyPrice"},{title:"Last Serviced On",dataIndex:"lastServiceDate",key:"lastServiceDate"},{title:"Year",dataIndex:"year",key:"year"},{title:"Condition",dataIndex:"condition",key:"condition"},{title:"Registration Tag",dataIndex:"registrationTag",key:"registrationTag"},Object(le.a)({title:"Rental Location",dataIndex:"rentalLocationName",key:"rentalLocationName"},this.getColumnSearchProps("rentalLocationName")),{title:"Action",dataIndex:"",key:"x",render:function(t,a){return l.a.createElement("span",{style:{zIndex:"-1"}},l.a.createElement(S.a,{type:"primary",onClick:function(t){e.reserve(a,t)},size:"small",style:{width:90}},"Reserve"))}}],n=null;return localStorage.getItem("user_id")&&"user"===localStorage.getItem("userType")||(n=l.a.createElement(h.a,{to:"/welcome/"})),l.a.createElement("div",null,n,l.a.createElement("div",null,l.a.createElement(w,{selectedKey:["1"]})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",{style:{textAlign:"center"}},"Vehicle and Vehicle Locations"),l.a.createElement("br",null),l.a.createElement(re.a,{pagination:{pageSizeOptions:["5","10","20"],defaultPageSize:5,showSizeChanger:!0},columns:a,dataSource:this.state.vehiclesData}),l.a.createElement(k.a,{title:"Vehicle Reservation",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},l.a.createElement("p",null,"Sorry, the vehicle you are looking for is currently not available"),l.a.createElement("p",null,"Do you want to check for same vehicle type at other locations and time?")),l.a.createElement(k.a,{title:"Vehicle Reservation",visible:this.state.visibleMembership,onOk:this.handleCancelMem,onCancel:this.handleCancelMem},l.a.createElement("p",null,"Please Extend your membership to avail the service.")),l.a.createElement(pe,{visible:this.state.reservationFormVisible,onCancel:function(){return e.setState({reservationFormVisible:!1})},onCreate:function(t){console.log("Received values of form: ",t);var a=e.state.vehicleId,n=T()(t.rentalDate).format("YYYY-MM-DD HH-mm"),l=parseInt(t.rentalLength),r=T()(t.rentalDate).add(l,"hours").format("YYYY-MM-DD HH-mm");me.getVehicleTransactions(a,n).then((function(t){e.setState({vehicleTransactionData:t});var c=e.state.vehicleTransactionData.filter((function(e){var t=T()(n,"YYYY-MM-DD HH-mm").isBetween(T()(e.rentedDateTime,"YYYY-MM-DD HH-mm"),T()(e.rentEndDateTime,"YYYY-MM-DD HH-mm")),a=T()(r,"YYYY-MM-DD HH-mm").isBetween(T()(e.rentedDateTime,"YYYY-MM-DD HH-mm"),T()(e.rentEndDateTime,"YYYY-MM-DD HH-mm")),l=T()(e.rentedDateTime,"YYYY-MM-DD HH-mm").isBetween(T()(n,"YYYY-MM-DD HH-mm"),T()(r,"YYYY-MM-DD HH-mm"));return console.log(t),console.log(a),console.log(l),(t||a||l)&&!0===e.isReserved}));console.log(c),c.length>0?(e.setState({reservationFormVisible:!1}),e.showModal()):me.storeVehicleTransaction(a,e.state.userId,!0,!1,n,l,r,n).then((function(t){console.log(t),e.setState({reservationFormVisible:!1}),x.a.fire("Success","Reservation successful!","success")}))}))},fields:t}),l.a.createElement("div",null,l.a.createElement(M,null)))}}]),t}(l.a.Component),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:"",searchedColumn:""},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,c=t.confirm,i=t.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(D.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,c,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(r,c,e)},icon:l.a.createElement(oe.a,null),size:"small",style:{width:90,marginRight:8}},"Search"),l.a.createElement(S.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return l.a.createElement(oe.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return a.state.searchedColumn===e?l.a.createElement(ie.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getVehiclesData()}},{key:"getVehiclesData",value:function(){var e=this;me.getVehiclesData().then((function(t){e.setState({vehiclesData:t}),console.log(t)}))}},{key:"render",value:function(){var e=[Object(le.a)({title:"Model",dataIndex:"model",key:"model",width:"30%"},this.getColumnSearchProps("model")),Object(le.a)({title:"Make",dataIndex:"make",key:"make",width:"20%"},this.getColumnSearchProps("make")),Object(le.a)({title:"Rental Location Name",dataIndex:"rentalLocationName",key:"rentalLocationName"},this.getColumnSearchProps("rentalLocationName"))];return l.a.createElement(re.a,{columns:e,dataSource:this.state.vehiclesData})}}]),t}(l.a.Component),ge=(a(476),B.a.Content),be=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={redirect:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=null;return localStorage.getItem("user_id")&&"admin"===localStorage.getItem("userType")||(e=l.a.createElement(h.a,{to:"/welcome/"})),l.a.createElement("div",null,e,l.a.createElement("div",null,l.a.createElement(y.a,null,l.a.createElement(B.a,{className:"layout"},l.a.createElement(z,{selectedKey:["5"]}),l.a.createElement(ge,null,"  ",l.a.createElement("div",{class:"container"},l.a.createElement("table",{class:"adminTable",border:"0",width:"480px",cellpadding:"0",cellspacing:"0",align:"left"},l.a.createElement("center",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("h1",null,"Enter a new vehicle")))),l.a.createElement("table",{border:"0",width:"480px",cellpadding:"0",cellspacing:"0",align:"left"},l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Vehicle Make:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"vmake"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Model:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"model"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Rental Location:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"rlocation"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Vehicle Type:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"vtype"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Condition:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"condition"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Current Mileage:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"cmile"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Last Service Date:"),l.a.createElement("td",null,l.a.createElement("input",{type:"date",name:"lsdate"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Registration Tag:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"rtag"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"Year:"),l.a.createElement("td",null,l.a.createElement("input",{type:"text",name:"year"}))),l.a.createElement("tr",null," ",l.a.createElement("td",null,"\xa0")," "),l.a.createElement("table",{border:"0",cellpadding:"0",cellspacing:"0",width:"480px",align:"left"},l.a.createElement("tr",null,l.a.createElement("td",{align:"center"},l.a.createElement("input",{type:"submit",name:"register",value:"Register Vehicle"})))))))),l.a.createElement(M,null)))))}}]),t}(n.Component),ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).clickedAdd=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/admin/profile/"}})})},a.clickedLogout=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/welcome/"}})}),localStorage.clear()},a.clickedTerminateMem=function(){a.setState({redirectPage:l.a.createElement(h.a,{to:{pathname:"/adminMembership/"}})})},a.state={redirectPage:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.redirectPage,l.a.createElement("div",{style:{background:"grey"}},l.a.createElement(I.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:this.props.selectedKey,style:{fontWeight:"bold"}},l.a.createElement(I.a.Item,{key:"4",onClick:this.clickedLogout,style:{color:"white",float:"right"}},"Logout"),l.a.createElement(I.a.Item,{key:"1",onClick:this.clickedTerminateMem,style:{color:"white",float:"right"}},"Terminate"))))}}]),t}(n.Component),ve={getAllMemberships:function(){return console.log("".concat(Ce.endpointURL,"/allMemberships/")),fetch("".concat(Ce.endpointURL,"/allMemberships/")).then((function(e){return e.json()}))}},Ce={endpointURL:j.endpointURL};var Se="http://localhost:4002/api",ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:"",searchedColumn:"",visible:!1,membershipId:"",reservationFormVisible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e);var t=a.state.membershipData;a.setState({membershipData:t}),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,c=t.confirm,i=t.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(D.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,c,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(r,c,e)},icon:l.a.createElement(oe.a,null),size:"small",style:{width:90,marginRight:8}},"Search"),l.a.createElement(S.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return l.a.createElement(oe.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return a.state.searchedColumn===e?l.a.createElement(ie.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllMemberships()}},{key:"getAllMemberships",value:function(){var e=this;ve.getAllMemberships().then((function(t){e.setState({membershipData:t}),console.log(t)}))}},{key:"modify",value:function(e,t){var a=this;t.preventDefault();e.membershipId;var n="".concat(Se,"/modifyMembership");R.a.post(n,{membershipId:e.userId}).then((function(e){a.getAllMemberships(),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[Object(le.a)({title:"User ID",dataIndex:"userId",key:"userId"},this.getColumnSearchProps("userId")),Object(le.a)({title:"Name",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),Object(le.a)({title:"Email ID",dataIndex:"emailid",key:"emailid",width:"20%"},this.getColumnSearchProps("emailid")),Object(le.a)({title:"Expiry Month",dataIndex:"expiryMonth",key:"expiryMonth"},this.getColumnSearchProps("expiryMonth")),Object(le.a)({title:"Expiry Year",dataIndex:"expiryYear",key:"expiryYear"},this.getColumnSearchProps("expiryYear")),Object(le.a)({title:"Membership Start Date",dataIndex:"memStartDate",key:"memStartDate"},this.getColumnSearchProps("memStartDate")),Object(le.a)({title:"Membership End Date",dataIndex:"memEndDate",key:"memEndDate"},this.getColumnSearchProps("memEndDate")),{title:"Action",dataIndex:"",key:"x",render:function(t,a){return l.a.createElement("span",{style:{zIndex:"-1"}},l.a.createElement(S.a,{type:"primary",onClick:function(t){e.modify(a,t)},size:"small",style:{width:90}},"Terminate"))}}],a=null;return"admin"===localStorage.getItem("userType")&&localStorage.getItem("user_id")||(a=l.a.createElement(h.a,{to:"/welcome/"})),l.a.createElement("div",null,a,l.a.createElement("div",null,l.a.createElement(ye,{selectedKey:["1"]})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h2",{style:{textAlign:"center",font:"bold"}},"Admin - Terminate Memberships"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(re.a,{pagination:{pageSizeOptions:["10","20"],showSizeChanger:!0},columns:t,dataSource:this.state.membershipData}),l.a.createElement(k.a,{title:"Basic Modal",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},l.a.createElement("p",null,"Sorry, the vehicle you are looking for is currently not available"),l.a.createElement("p",null,"Do you want to check for same vehicle type at other locations?")),l.a.createElement(pe,{visible:this.state.reservationFormVisible,onCancel:function(){return e.setState({reservationFormVisible:!1})},onCreate:function(t){console.log("Received values of form: ",t);var a=e.state.membershipId,n=T()(t.startDate).format("DD/MM/YYYY");T()(t.endDate).format("DD/MM/YYYY");ve.getAllMemberships(a,n).then((function(t){e.setState({membershipData:t});var a=e.state.membershipData;console.log(a)}))},fields:[]}),l.a.createElement("div",null,l.a.createElement(M,null)))}}]),t}(l.a.Component),De={getAllReservations:function(e){var t=localStorage.getItem("user_id"),a=new URL("".concat(Ie.endpointURL,"/allReservations/")+t),n={userId:t,commentReturn:e};return Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),fetch(a).then((function(e){return e.json()}))}},Ie={endpointURL:j.endpointURL};var we="http://localhost:4002/api",Me=(g.a.Panel,b.a.Option,localStorage.getItem("user_id"),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).showModal=function(){e.setState({visible:!0})},e.checkModal=function(t,a){e.selectedRecord=t,e.billSum=e.calculateFee(t),e.setState({visible:!0})},e.showCCLoading=function(){alert(),e.setState({stateCC:!0})},e.handleOk=function(t){console.log(t);var a=e.state.reservationData;e.setState({reservationData:a}),e.setState({visible:!1})},e.handleCancel=function(t){console.log(t),e.setState({visible:!1})},e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,r=a.selectedKeys,c=a.confirm,i=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(D.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(r,c,t)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(S.a,{type:"primary",onClick:function(){return e.handleSearch(r,c,t)},icon:l.a.createElement(oe.a,null),size:"small",style:{width:90,marginRight:8}},"Search"),l.a.createElement(S.a,{onClick:function(){return e.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return l.a.createElement(oe.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return a[t].toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}))},render:function(a){return e.state.searchedColumn===t?l.a.createElement(ie.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:a.toString()}):a}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e.state={visible:!1,creditCard:[],startDate:"",endDate:"",userinfo:[],name:"",price:0,userID:"",months:0,ready:!1,redirectPage:"",stateCC:!1,hoursGtZero:!1},localStorage.getItem("user_id"),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getAllReservations();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllReservations",value:function(){var e=this;De.getAllReservations().then((function(t){e.setState({reservationData:t})}))}},{key:"calculateFee",value:function(e){var t=T()(e.rentEndDateTime,"YYYY-MM-DD HH-mm"),a=T()(e.rentedDateTime,"YYYY-MM-DD HH-mm"),n=T()(new Date,"YYYY-MM-DD HH-mm"),l=Math.ceil(t.diff(a)/36e5),r=Math.ceil(n.diff(a)/36e5);if(r<-1)return this.hours=0,0;if(r>l){var c=r-l,i=this.calculateFeeByHours(l),o=this.calculateFeeByHours(c);return this.hours=r+l,i+2*o}Math.ceil(n.diff(t)/36e5);return this.hours=l,i=this.calculateFeeByHours(l)}},{key:"calculateFeeByHours",value:function(e){for(var t=0,a=100;e>0&&a>0;)t+=a,e-=10,a*=.99;return t=Math.ceil(t)}},{key:"modify",value:function(e,t){var a=this,n=document.getElementById("commentReturn").value;""!=n&&null!=n||(n="No comment"),t.preventDefault();var l="".concat(we,"/returnCancel");R.a.post(l,{vehicleTransactionId:e.vehicleTransactionId,comment:n}).then((function(e){a.getAllReservations(),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"handleComment",value:function(e){this.setState({commentReturn:e.target.value})}},{key:"render",value:function(){var e=this,t=[Object(le.a)({title:"Transaction ID",dataIndex:"vehicleTransactionId",key:"vehicleTransactionId",width:"15%"},this.getColumnSearchProps("vehicleTransactionId")),Object(le.a)({title:"Vehicle ID",dataIndex:"vehicleId",key:"vehicleId",width:"10%"},this.getColumnSearchProps("vehicleId")),Object(le.a)({title:"Rent Duration",dataIndex:"rentedLength",key:"rentedLength",width:"20%"},this.getColumnSearchProps("rentedLength")),Object(le.a)({title:"Start Date",dataIndex:"rentedDateTime",key:"rentedDateTime"},this.getColumnSearchProps("rentedDateTime")),Object(le.a)({title:"End Date",dataIndex:"rentEndDateTime",key:"rentEndDateTime"},this.getColumnSearchProps("rentEndDateTime")),{title:"Action",dataIndex:"",key:"x",render:function(t,a){return l.a.createElement("span",{style:{zIndex:"-1"}},l.a.createElement(S.a,{type:"primary",onClick:function(t){e.checkModal(a,t)},size:"small",style:{width:"100%"}},"Cancel/Return"))}},Object(le.a)({title:"Comment",dataIndex:"",key:"x"},this.getColumnSearchProps("commentReturn"),{render:function(t,a){return l.a.createElement("input",{type:"text",name:"commentReturn",id:"commentReturn",onMouseLeave:function(t){return e.handleComment(t)}})}})],a=null;return localStorage.getItem("user_id")&&"user"===localStorage.getItem("userType")||(a=l.a.createElement(h.a,{to:"/welcome/"})),l.a.createElement("div",null,a,l.a.createElement("div",null,l.a.createElement(w,{selectedKey:["3"]})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h2",{style:{textAlign:"center"}},"Return and Cancel Reservations"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(re.a,{pagination:{pageSizeOptions:["10","20"],showSizeChanger:!0},columns:t,dataSource:this.state.reservationData}),l.a.createElement(k.a,{title:"Billing based your usage",visible:this.state.visible,onCancel:this.handleCancel,footer:[l.a.createElement(S.a,{key:"back",onClick:this.handleCancel},"Return")]},l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("label",null,"Usage hours ")),l.a.createElement(C.a,{span:2}),l.a.createElement(C.a,{span:8},l.a.createElement("label",null,"Bill amount"))),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement(D.a,{value:this.hours,style:{backgroundColor:"white",fontWeight:"500",fontFamily:"inherit",color:"rgba(0, 0, 0, 0.75)"},disabled:!0})),l.a.createElement(C.a,{span:2}),l.a.createElement(C.a,{span:8},l.a.createElement(D.a,{value:this.billSum+"$",style:{backgroundColor:"white",fontWeight:"500",fontFamily:"inherit",color:"rgba(0, 0, 0, 0.75)"},disabled:!0}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14})),l.a.createElement(y.a,null,l.a.createElement(S.a,{onClick:function(t){e.modify(e.selectedRecord,t),e.handleOk()},size:"medium",style:{width:"100%",backgroundColor:"green",color:"white",marginLeft:"35%",marginRight:"35%"}},"Pay now "),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("u",null,l.a.createElement("b",null,l.a.createElement("label",null,"Billing Details:"))))),l.a.createElement(y.a,null,l.a.createElement("p",{style:{backgroundColor:"white",fontWeight:"500",fontFamily:"inherit",color:"brown"}},"1) For the first 10 hours, it is 100$. ",l.a.createElement("br",null),"2) For every subsequent usage of 10 hours, the price reduces by 1%",l.a.createElement("br",null),"3) If cancelled atleast one hour prior, no penalty. ",l.a.createElement("br",null),"4) If returned late, charges double every extra hour.")),l.a.createElement("br",null),l.a.createElement("p",{size:"6"}," * Your registered card will be used for payment. ")),l.a.createElement(k.a,{title:"Credit Card Details",visible:this.state.stateCC,onCancel:this.handleCancel,footer:[l.a.createElement(S.a,{key:"back",onClick:this.handleCancel},"Return"),l.a.createElement(S.a,{key:"submit",type:"primary",onClick:this.handleOk},"Submit")]},l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("label",null,"Owner Name")),l.a.createElement(C.a,{span:2}),l.a.createElement(C.a,{span:8},l.a.createElement("label",null,"CVV"))),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement(D.a,null)),l.a.createElement(C.a,{span:2}),l.a.createElement(C.a,{span:8},l.a.createElement(D.a,null))),l.a.createElement("br",null),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("label",null,"Card Number"))),l.a.createElement(y.a,null,l.a.createElement(D.a,null)),l.a.createElement("br",null),l.a.createElement(y.a,null,l.a.createElement(C.a,{span:14},l.a.createElement("label",null,"Expiry Details"))),l.a.createElement(y.a,null,l.a.createElement(D.a,null),l.a.createElement(D.a,{style:{marginLeft:"2%"}})))),l.a.createElement("div",null,l.a.createElement(M,null)))}}]),t}(l.a.Component)),Oe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h.b,{exact:!0,path:"/",component:Q}),l.a.createElement(h.b,{path:"/welcome/",component:Q}),l.a.createElement(h.b,{path:"/signin/",component:ne}),l.a.createElement(h.b,{path:"/user/",component:Ee}),l.a.createElement(h.b,{path:"/joinus/",component:Z}),l.a.createElement(h.b,{path:"/app1/",component:fe}),l.a.createElement(h.b,{path:"/profile/",component:F}),l.a.createElement(h.b,{path:"/admin/",component:be}),l.a.createElement(h.b,{path:"/adminMembership/",component:ke}),l.a.createElement(h.b,{path:"/ReturnCancel/",component:Me}))}}]),t}(l.a.Component),xe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(Oe,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[243,1,2]]]);
//# sourceMappingURL=main.163c6d5d.chunk.js.map